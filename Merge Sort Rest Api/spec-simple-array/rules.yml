---
kind : rule
name : R1
service : S
functions :
 - { classPath: com.local.Util, method: returnSameArray, label: returnSame, multiOutput: true, outputSize: 3 }
actions :
 - (c1,tab) =  S1(a)
 - tab1 = returnSame(tab)
 - res =  S2(a,tab1)
---
kind : rule
name : R2
service : S1
functions :
 - { classPath: com.local.Util, method: incrementNumber, label: inc }
 - { classPath: com.local.Util, method: getZero, label: zero }
actions :
 - i = zero()
 - sync = zero()
 - tab[i/sync] = [S3(sync,a) for i,inc,3]
 - res = tab[i]

---
kind : rule
name : R3
service : S2
guard : 
 classPath: com.local.Util
 method: guardArray
 binding:
  - { name : f}
  - { name : g}
functions :
 - { classPath: com.local.Util, method: compute, label: compute }

actions :
 - b = compute(f,g)

---
kind : rule
name : R4
service : S3
guard : 
 classPath: com.local.Util
 method: guardSync
functions :
 - { classPath: com.local.Util, method: compute, label: compute }

actions :
 - syncOut = a
 - b = a
